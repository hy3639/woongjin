<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<title>웅진</title>
<link rel="stylesheet" type="text/css" href="../css/common.css">
<link rel="stylesheet" href="../css/common01.css"> <!--PC-->
<link rel="stylesheet" media="screen and (max-width: 1100px)" href="../css/common03.css"> <!-- PC+GNB없음-->

<script src="../js/jquery-1.9.1.min.js"></script>
<script src="../js/jquery-ui.11.12.1.js"></script>
<script src="../js/pluginset.js"></script><!-- 각종 플러그인 모음 -->
<script src="../js/common.js"></script>
<!--[if lt IE 9]>
<script src="../js/html5.js"></script>
<script src="../respond.src.js"></script>
<![endif]-->
</head>

<body>
<div class="content app-wrap">
	<!-- 타이틀 영역 -->
	<div class="title-wrap">
		<h2 class="title">전결규정 설정</h2>
	</div>
	<div class="board-write1">
		<table>
			<colgroup class="mHide"><!-- 웹전용 -->
				<col style="width:18%;">
				<col>
			</colgroup>
			<tbody>
				<tr>
					<th scope="row">결재양식</th>
					<td>
						<div class="input-area type2">
							<input type="text" style="max-width:300px;">
							<button type="button" class="btn-text mid">Category</button>
							<select class="styled1" style="width:150px;">
								<option>기안지</option>
							</select>
						</div>
					</td>
				</tr>
				<tr>
					<th scope="row"><label for="Text01">설명</label></th>
					<td><input type="text" id="Text01" style="width:100%"></td>
				</tr>
			</tbody>
		</table>
	</div>


	<div class="float-area">
		<p class="sub-title left">전결항목 입력</p>


		<div class="btn-wrap right">
			<div class="btn-align">
				<div class="btn-item"><button type="button" class="btn-text mid btn-add">추가</button></div>
				<div class="btn-item"><button type="button" class="btn-text mid btn-all-delete">삭제</button></div>
			</div>
		</div>
	</div>
	<div class="board-write1 type2">
		<table>
			<caption>전결규정 설정 테이블</caption>
			<colgroup>
				<col style="width:12%;">
				<col style="width:25%;">
				<col style="width:28%;">
				<col style="width:35%;">
			</colgroup>
			<thead>
				<tr>
					<th scope="col">항목 삭제</th>
					<th scope="col">전결 항목</th>
					<th scope="col">전결 입력</th>
					<th scope="col">항목별 전결리스트</th>
				</tr>
			</thead>
			<tbody class="d_tbody">
				<tr>
					<td><button type="button" class="btn-text mid btn-delete">삭제</button></td>
					<td>
						<div class="check-area">
							<input type="checkbox" class="styled1"><label>전결명 없음</label>
							<input type="text" style="width:100%;">
						</div>
					</td>
					<td>
						<div class="input-area">
							<input type="text">
							<button type="button" class="btn-text mid">확인</button>
						</div>
						<div class="input-area scope">
							<label>범위</label>
							<div class="input-box">
								<input type="text">
								<span class="swung-dash">~</span>
								<input type="text">
							</div>
						</div>
					</td>
					<td>
						<div class="share-box type2">
							<div class="scroll-area">
								<div class="user-box">
									<p class="text">전결사항 [ 10,000 ~ 50,000 ]</p>
									<button type="button" class="btn-del">삭제</button>
								</div>
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
		<textarea id="copyTR" style="display:none">
			<tr>
				<td><button type="button" class="btn-text mid btn-delete">삭제</button></td>
				<td>
					<div class="check-area">
						<span class="checkWrap">
							<input type="checkbox" id="" class="styled1">
						</span>
						<label for="">전결명 없음</label>
						<input type="text" style="width:100%;">
					</div>
				</td>
				<td>
					<div class="input-area">
						<input type="text">
						<button type="button" class="btn-text mid">확인</button>
					</div>
					<div class="input-area scope">
						<label>범위</label>
						<div class="input-box">
							<input type="text">
							<span class="swung-dash">~</span>
							<input type="text">
						</div>
					</div>
				</td>
				<td>
					<div class="share-box type2">
					<div class="scroll-area">
						<!-- <div class="user-box">
							<p class="text">전결사항 [ 10,000 ~ 50,000 ]</p>
							<button type="button" class="btn-del">삭제</button>
						</div> -->
					</div>
				</div>
				</td>
			</tr>
		</textarea>
	</div>

	<div class="btn-wrap right">
		<div class="btn-align">
			<div class="btn-item"><a href="#" class="btn-text">취소</a></div>
			<div class="btn-item"><a href="#" class="btn-text fColor bdColor">저장</a></div>
		</div>
	</div>

	<p class="blt-text2">유의사항</p>
	<div class="text-box1">
		<div class="title-area">
			<p class="title2">전결 항목 : 전결 규정 명칭을 등록</p>
		</div>

		<ul class="blt-list1">
			<li class="item">전결항목 추가/삭제 시 '추가'/'삭제' 버튼을 클릭하시면 됩니다.</li>
			<li class="item">'전결명 없음' 체크 시 항목명칭을 입력하지 않아도 됩니다. 단 결재 양식에서 한 건만 가능합니다.</li>
		</ul>
	</div>
	<div class="text-box1">
		<div class="title-area">
			<p class="title2">전결 입력  : 지표 항목명칭을 등록 (예 : 1억원이하 0~100,000,000)</p>
		</div>

		<ul class="blt-list1">
			<li class="item">전결항목별 규정 추가 시 지표 입력란에 새로운 값을 입력 한 후 '확인'버튼을 클릭하면 계속해서 추가 하실 수 있습니다.</li>
			<li class="item">특정금액 이상일 경우 최대 9,999,999,999,999 까지 가능합니다.</li>
		</ul>
	</div>
</div>

<script>
$(window).load(function(){
	idFor();// 체크박스/라디오 id값 생성

	/* 전결항목 추가 */
	$('.btn-add').click(function(){
		var copyTR = $('#copyTR').val();
		$(this).closest('.float-area').next('.board-write1').find('tbody').append(copyTR);
		idFor();// 체크박스/라디오 id값 생성
	});

	/* 전결항목 삭제 */
	$(document).on('click', '.btn-delete', function(){
		if($('.board-write1 .d_tbody tr').size() > 1){
			$(this).closest('tr').remove();
		}else{
			alert('삭제할 수 없습니다.');
			return false;
		}
	});

	/* 전결항목 전체 삭제 */
	$('.btn-all-delete').click(function(){
		$(this).closest('.float-area').next('.board-write1').find('tr').not('tr:first-child').remove();
	});

	/* 전결명 없음 체크 */
	$(document).on('change', '.check-area .styled1', function(){
		if(this.checked){
			var label = $(this).closest('.check-area').find('label').text();
			$(this).closest('.check-area').find('input[type=text]').val(label);
		}else{
			$(this).closest('.check-area').find('input[type=text]').val('');
		}
	});
});

/* 체크박스/라디오 id값 생성 */
function idFor(){
	$('input[type=checkbox]').each(function(){
		var idx = $(this).closest('tr').index();
		$(this).attr('id', 'Check' + idx)
			.closest('.check-area').find('label').attr('for', 'Check' + idx);
	});
}
</script>
</body>
</html>
